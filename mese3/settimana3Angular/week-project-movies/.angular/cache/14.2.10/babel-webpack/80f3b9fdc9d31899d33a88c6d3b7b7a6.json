{"ast":null,"code":"import _asyncToGenerator from \"/Users/lorenzociarcianelli/Desktop/EPICODE frontend/epicode_frontend/mese3/settimana3Angular/week-project-movies/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../auth/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction LoginComponent_p_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Questo campo \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction LoginComponent_p_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2, \"Questo campo \\u00E8 obbligatorio\");\n    i0.ɵɵelementEnd()();\n  }\n}\n\nexport class LoginComponent {\n  constructor(authSrv, router) {\n    this.authSrv = authSrv;\n    this.router = router;\n    this.isLoading = false;\n    this.errorMessage = undefined;\n  }\n\n  ngOnInit() {}\n\n  onSubmit(form) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      console.log(form);\n\n      try {\n        yield _this.authSrv.login(form.value).subscribe(res => console.log(res));\n        form.reset();\n        _this.errorMessage = undefined;\n\n        _this.router.navigate(['/home']);\n      } catch (error) {\n        _this.errorMessage = error;\n        console.error(error);\n      }\n    })();\n  }\n\n}\n\nLoginComponent.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nLoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: LoginComponent,\n  selectors: [[\"app-login\"]],\n  decls: 27,\n  vars: 2,\n  consts: [[\"id\", \"login\"], [1, \"container\"], [1, \"row\", \"justify-content-center\", \"align-items-center\"], [1, \"col-md-6\"], [1, \"col-md-12\"], [3, \"ngSubmit\"], [\"tdform\", \"ngForm\"], [1, \"text-center\", \"text-info\", \"text-black\", \"mt-2\"], [1, \"form-group\"], [\"for\", \"exampleInputEmail1\", 1, \"form-label\"], [\"required\", \"\", \"name\", \"email\", \"type\", \"email\", \"aria-describedby\", \"emailHelp\", \"ngModel\", \"\", 1, \"form-control\"], [\"email\", \"ngModel\"], [4, \"ngIf\"], [\"for\", \"exampleInputPassword1\", 1, \"form-label\"], [\"name\", \"password\", \"type\", \"password\", \"ngModel\", \"\", 1, \"form-control\"], [\"password\", \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-3\"], [\"routerLink\", \"/register\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      const _r5 = i0.ɵɵgetCurrentView();\n\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"form\", 5, 6);\n      i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_5_listener() {\n        i0.ɵɵrestoreView(_r5);\n\n        const _r0 = i0.ɵɵreference(6);\n\n        return i0.ɵɵresetView(ctx.onSubmit(_r0));\n      });\n      i0.ɵɵelementStart(7, \"h3\", 7);\n      i0.ɵɵtext(8, \"Form di Login\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"div\", 8)(10, \"label\", 9);\n      i0.ɵɵtext(11, \"Email address\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"input\", 10, 11);\n      i0.ɵɵtemplate(14, LoginComponent_p_14_Template, 3, 0, \"p\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 8)(16, \"label\", 13);\n      i0.ɵɵtext(17, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"input\", 14, 15);\n      i0.ɵɵtemplate(20, LoginComponent_p_20_Template, 3, 0, \"p\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"button\", 16);\n      i0.ɵɵtext(22, \"Login\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(23, \"p\");\n      i0.ɵɵtext(24, \" Non sei ancora registrato? \");\n      i0.ɵɵelementStart(25, \"a\", 17);\n      i0.ɵɵtext(26, \"Registrati qui!\");\n      i0.ɵɵelementEnd()()()()()();\n    }\n\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(13);\n\n      const _r3 = i0.ɵɵreference(19);\n\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngIf\", _r1.invalid && _r1.touched);\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", _r3.invalid && _r3.touched);\n    }\n  },\n  dependencies: [i3.NgIf, i2.RouterLinkWithHref, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm],\n  styles: [\"#login[_ngcontent-%COMP%] {\\n  margin: 15vw auto;\\n  max-width: 600px;\\n  height: 320px;\\n  border: 1px solid #9C9C9C;\\n  background-color: #EAEAEA;\\n  border-radius: 15px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxvZ2luLmNvbXBvbmVudC5zY3NzIiwiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vRVBJQ09ERSUyMGZyb250ZW5kL2VwaWNvZGVfZnJvbnRlbmQvbWVzZTMvc2V0dGltYW5hM0FuZ3VsYXIvd2Vlay1wcm9qZWN0LW1vdmllcy9zcmMvYXBwL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksaUJBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSx5QkFBQTtFQUNBLHlCQUFBO0VBQ0EsbUJBQUE7QUNDSiIsImZpbGUiOiJsb2dpbi5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNsb2dpbiB7XG4gICAgbWFyZ2luOiAxNXZ3IGF1dG87XG4gICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICBoZWlnaHQ6IDMyMHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICM5QzlDOUM7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0VBRUFFQTtcbiAgICBib3JkZXItcmFkaXVzOiAxNXB4O1xufVxuIiwiI2xvZ2luIHtcbiAgbWFyZ2luOiAxNXZ3IGF1dG87XG4gIG1heC13aWR0aDogNjAwcHg7XG4gIGhlaWdodDogMzIwcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICM5QzlDOUM7XG4gIGJhY2tncm91bmQtY29sb3I6ICNFQUVBRUE7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHg7XG59Il19 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAqBcA,0BAA0C,CAA1C,EAA0C,QAA1C;IACUA;IAA2BA;;;;;;IAcrCA,0BAAgD,CAAhD,EAAgD,QAAhD;IACUA;IAA2BA;;;;AC5BnD,OAAM,MAAOC,cAAP,CAAqB;EAGzBC,YAAoBC,OAApB,EAAkDC,MAAlD,EAAgE;IAA5C;IAA8B;IAFlD,iBAAY,KAAZ;IACA,oBAAeC,SAAf;EACoE;;EAEpEC,QAAQ,IAAW;;EAEbC,QAAQ,CAACC,IAAD,EAAU;IAAA;;IAAA;MACtBC,OAAO,CAACC,GAAR,CAAYF,IAAZ;;MAEA,IAAI;QACF,MAAM,KAAI,CAACL,OAAL,CAAaQ,KAAb,CAAmBH,IAAI,CAACI,KAAxB,EAA+BC,SAA/B,CAAyCC,GAAG,IAAIL,OAAO,CAACC,GAAR,CAAYI,GAAZ,CAAhD,CAAN;QACAN,IAAI,CAACO,KAAL;QACA,KAAI,CAACC,YAAL,GAAoBX,SAApB;;QACA,KAAI,CAACD,MAAL,CAAYa,QAAZ,CAAqB,CAAC,OAAD,CAArB;MACD,CALD,CAKE,OAAOC,KAAP,EAAmB;QACnB,KAAI,CAACF,YAAL,GAAoBE,KAApB;QACAT,OAAO,CAACS,KAAR,CAAcA,KAAd;MACD;IAXqB;EAYvB;;AAnBwB;;;mBAAdjB,gBAAcD;AAAA;;;QAAdC;EAAckB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;;;MDR3BvB,+BAAgB,CAAhB,EAAgB,KAAhB,EAAgB,CAAhB,EAAgB,CAAhB,EAAgB,KAAhB,EAAgB,CAAhB,EAAgB,CAAhB,EAAgB,KAAhB,EAAgB,CAAhB,EAAgB,CAAhB,EAAgB,KAAhB,EAAgB,CAAhB,EAAgB,CAAhB,EAAgB,MAAhB,EAAgB,CAAhB,EAAgB,CAAhB;MAKiCA;QAAAA;;QAAA;;QAAA,OAAYA,iCAAZ;MAA4B,CAA5B;MACrBA;MAAkDA;MAAaA;MAC/DA,+BAAwB,EAAxB,EAAwB,OAAxB,EAAwB,CAAxB;MAEKA;MAAaA;MAEhBA;MASAA;MAGFA;MACAA,gCAAwB,EAAxB,EAAwB,OAAxB,EAAwB,EAAxB;MAEKA;MAAQA;MAEXA;MAOAA;MAGFA;MAEAA;MAAmDA;MAAKA;MAG5DA;MACEA;MACAA;MAA0BA;MAAeA;;;;;;;;MAzBjCA;MAAAA;MAeAA;MAAAA","names":["i0","LoginComponent","constructor","authSrv","router","undefined","ngOnInit","onSubmit","form","console","log","login","value","subscribe","res","reset","errorMessage","navigate","error","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/lorenzociarcianelli/Desktop/EPICODE frontend/epicode_frontend/mese3/settimana3Angular/week-project-movies/src/app/login/login.component.html","/Users/lorenzociarcianelli/Desktop/EPICODE frontend/epicode_frontend/mese3/settimana3Angular/week-project-movies/src/app/login/login.component.ts"],"sourcesContent":["\n<div id=\"login\">\n  <div class=\"container\">\n    <div class=\"row justify-content-center align-items-center\">\n      <div class=\"col-md-6\">\n        <div class=\"col-md-12\">\n          <form #tdform=\"ngForm\" (ngSubmit)=\"onSubmit(tdform)\">\n            <h3 class=\"text-center text-info text-black mt-2\">Form di Login</h3>\n            <div class=\"form-group\">\n              <label for=\"exampleInputEmail1\" class=\"form-label\"\n                >Email address</label\n              >\n              <input\n                required\n                #email=\"ngModel\"\n                name=\"email\"\n                type=\"email\"\n                class=\"form-control\"\n                aria-describedby=\"emailHelp\"\n                ngModel\n              />\n              <p *ngIf=\"email.invalid && email.touched\">\n                <strong>Questo campo è obbligatorio</strong>\n              </p>\n            </div>\n            <div class=\"form-group\">\n              <label for=\"exampleInputPassword1\" class=\"form-label\"\n                >Password</label\n              >\n              <input\n                #password=\"ngModel\"\n                name=\"password\"\n                type=\"password\"\n                class=\"form-control\"\n                ngModel\n              />\n              <p *ngIf=\"password.invalid && password.touched\">\n                <strong>Questo campo è obbligatorio</strong>\n              </p>\n            </div>\n\n            <button type=\"submit\" class=\"btn btn-primary mt-3\">Login</button>\n          </form>\n        </div>\n        <p>\n          Non sei ancora registrato?\n          <a routerLink=\"/register\">Registrati qui!</a>\n        </p>\n      </div>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { AuthService } from '../auth/auth.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.scss']\n})\nexport class LoginComponent implements OnInit {\n  isLoading = false;\n  errorMessage = undefined;\n  constructor(private authSrv: AuthService, private router: Router) {}\n\n  ngOnInit(): void {}\n\n  async onSubmit(form: any) {\n    console.log(form);\n\n    try {\n      await this.authSrv.login(form.value).subscribe(res => console.log(res));\n      form.reset();\n      this.errorMessage = undefined;\n      this.router.navigate(['/home']);\n    } catch (error: any) {\n      this.errorMessage = error;\n      console.error(error);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}